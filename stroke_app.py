# -*- coding: utf-8 -*-
"""stroke_app.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1j0m2Jps-b3MQl3Tkmlzwktcw6nOWKTlV
"""

import webbrowser

linkedin_url = "www.linkedin.com/in/hassan-saleh-999a86157"

from PIL import Image

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import streamlit as st
import pandas as pd

import matplotlib.pyplot as plt
import seaborn as sns
import matplotlib
import plotly.express as px
matplotlib.use("Agg")
import joblib
import os
import pickle
import functions

from random import choices
import streamlit as st
from streamlit_option_menu import option_menu
from eda_app import appeda
from ML_app import run_ml_app
import base64
import joblib
import numpy as np
import pandas as pd
import time as timer
import seaborn as sns
import streamlit as st
import imblearn 
from sklearn import metrics
from imblearn import under_sampling, over_sampling
from imblearn.over_sampling import SMOTE
from sklearn.model_selection import train_test_split
from sklearn.inspection import permutation_importance
from sklearn.preprocessing import LabelEncoder,StandardScaler
from sklearn.metrics import classification_report,accuracy_score,confusion_matrix
from sklearn.metrics import auc,roc_auc_score,roc_curve,precision_score,recall_score,f1_score
from PIL import Image


#model imports
from sklearn.svm import SVC
from sklearn.naive_bayes import GaussianNB
from sklearn.tree import DecisionTreeClassifier
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import cross_val_score
from sklearn.ensemble import RandomForestClassifier
import xgboost
from xgboost import XGBClassifier
from xgboost import plot_importance

#charts
import plotly.express as px
import matplotlib.pyplot as plt
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import joblib
import numpy as np
import pandas as pd
import time as timer
import seaborn as sns
import streamlit as st
import imblearn 
from sklearn import metrics
from imblearn import under_sampling, over_sampling
from imblearn.over_sampling import SMOTE
from sklearn.model_selection import train_test_split
from sklearn.inspection import permutation_importance
from sklearn.preprocessing import LabelEncoder,StandardScaler
from sklearn.metrics import classification_report,accuracy_score,confusion_matrix
from sklearn.metrics import auc,roc_auc_score,roc_curve,precision_score,recall_score,f1_score
from PIL import Image


#model imports
from sklearn.svm import SVC
from sklearn.naive_bayes import GaussianNB
from sklearn.tree import DecisionTreeClassifier
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import cross_val_score
from sklearn.ensemble import RandomForestClassifier
import xgboost
from xgboost import XGBClassifier
from xgboost import plot_importance

#charts
import plotly.express as px
import matplotlib.pyplot as plt
import plotly.graph_objects as go
from plotly.subplots import make_subplots

main_bg = "ww.jpg"
main_bg_ext = "jpg"

def main():
  st.set_page_config(layout="wide" , page_title="Stroke Prediction",
                        page_icon="üß†")
  selected = option_menu(menu_title= None,options=["Home","EDA","ML Model","About"],icons=["house","book","envelope","person lines fill"],menu_icon="app-indicator", default_index=0,styles={
        "container": {"padding": "5!important", "background-color": "#fafafa"},
        "icon": {"color": "orange", "font-size": "25px"}, 
        "nav-link": {"font-size": "16px", "text-align": "left", "margin":"0px", "--hover-color": "#eee"},
        "nav-link-selected": {"background-color": "#02ab21"}},
      orientation="horizontal",)
  if selected=="Home":
    st.markdown(
    f"""
    <style>
    [data-testid="stAppViewContainer"] {{
        background: url(data:image/{main_bg_ext};base64,{base64.b64encode(open(main_bg, "rb").read()).decode()});
        background-size: 100%;}}
        
    [data-testid="stHeader"] {{
    background: rgba(0,0,0,0);
    }}
   
    </style>
    """,
    unsafe_allow_html=True
)
    st.title("Cerebrovascular Accidents (Stroke) in Lebanon especially in rural areas: Early prediction ")
    st.write("""  In Lebanon, Stroke is thought to be the second-leading cause of death and one of the leading causes of disabilities.
                     What Is A Stroke?
There are two kinds of Stroke:

 1- Hemorrhagic Stroke (About 20% of all strokes) that happens when a blood vessel burst inside the brain
 
 2- Ischemic Stroke (About 80% of all strokes) that happens when a blood clot gets lodged inside an artery of the brain caused blockage.
			
        By: Hassan Saleh
			""")
  pass
  
  if selected=="EDA":
    appeda()
    pass
        
    
  if selected=="ML Model":
        run_ml_app()
        pass
        
  if selected=="About":
    st.title("About")
    image = Image.open('hassan1.jpg')
    st.image(image,width = 300)
    st.subheader("About Me üë®‚Äçüéì")
    st.text("Hi, I am Hassan. I am a data scientist who Helps people Create The change that Matters, and willing to change my ambitions to Reality, Pharmacist with demonstrated history of working in the pharmaceutical industry. Health Care and data analytics Enthusiast.")
    st.text("I take avid interests in breaking down complex problems and leverage data to drive business")
    if st.button("Linkedin üîó"):
      webbrowser.open_new_tab(linkedin_url)

    
if __name__=="__main__":
    main()